## 数据背景

数据来源：知乎、理财贷款论坛、投资理财通、银行客服等公开评论文本
**注明：出题方已于11月1日更新训练集、测试集数据，请选手使用最新数据，禁止使用旧数据。**

## 文件清单和使用说明

**训练数据**
  train_data.csv 保存训练数据和标注数据

**训练数据说明**
训练数据 train_data.csv

|   字段名   |             字段说明             |
| :--------: | :------------------------------: |
|    text    |           评论原始文本           |
|  BIO_anno  |        BIO格式的实体标注         |
|   class    | 情感分类（1:正面,0:负面,2:中立） |
| bank_topic |      评论来源与哪个银行板块      |

实体标注采用BIO格式，即Begin, In, Out格式。一个标注的示例如下：
![微信截图_20210914121830.png](https://s3.cn-north-1.amazonaws.com.cn/files.datafountain.cn/uploads/admin/editor/2021-09-14/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20210914121830-921357.png)

*说明*：
B-BANK 代表银行实体的开始
I-BANK 代表银行实体的内部
B-PRODUCT 代表产品实体的开始
I-PRODUCT 代表产品实体的内部
O 代表不属于标注的范围
B-COMMENTS_N 代表用户评论（名词）
I-COMMENTS_N 代表用户评论（名词）实体的内部
B-COMMENTS_ADJ 代表用户评论（形容词）
I-COMMENTS_ADJ 代表用户评论（形容词）实体的内部

**其他数据文件**
选手提交 submission.csv

|  字段名  |     字段说明      |
| :------: | :---------------: |
|    id    |    原始文本id     |
| BIO_anno | BIO格式的实体标注 |
|  class   | 情感分类预测结果  |

## 作品提交要求

#### 提交结果

选手提交 submission.csv

|  字段名  |     字段说明      |  格式  |
| :------: | :---------------: | :----: |
|    id    |    原始文本id     |  int   |
| BIO_anno | BIO格式的实体标注 | string |
|  class   | 情感分类预测结果  |  int   |

注：实体标注结果的每个字符使用空格分隔。

#### 提交样例

Submission.csv
id, BIO_anno, class
0，O O O O… O,0
1,O B I I O O… O,1
…

## 评分与晋级

#### 晋级规则

  B榜评测结束后，按照B榜测试结果进行排名。组委会将对排行榜TOP10参赛队伍最优提交成绩的模型、完整代码（包含数据处理和模型训练）、报告、论文进行审核。对于未提交、复现未成功或审核不通过的队伍，将取消决赛资格和比赛奖励。最终，审核通过的队伍，复赛得分排名TOP5的参赛队伍进入决赛答辩环节。

#### 评分方式

  本次评测采用的评价评价指标 S = 0.5*S1+0.5*S2

> 本次挑战一部分为NER任务，S1以strict-F1作为衡量标准。

**评测指标**
本任务采用严格F1-Measure作为评测指标。预测结果S={s1,s2…sn} ，人工标注的结果 (Gold Standard)集合分别记为G={g1,g2…gn} 。集合元素为一个实体提及，表示为四元组<d,posb，pose,c>，d表示文档，posb​,和pose分别对应实体提及在文档d中的起止下标，c表示实体提及所属类别。评测以F1值作为S1。

**严格指标（Strict）**
我们定义 si​∈S 与gj​∈G严格等价，当且仅当：

1. si⋅d=gj⋅d
2. si⋅posb=gj⋅posb
3. si⋅pose=gj⋅pose
4. si⋅c=gj⋅c
   基于以上等价关系，我们定义集合S与G的严格交集为。由此得到严格评测指标：

$$P=\frac{|S \cap G|}{|S|}, R=\frac{|S \cap G|}{|G|}, F_{1}=\frac{2 P R}{P+R}$$

> 本次挑战的另一部分是情感分类任务，S2以Kappa作为衡量标准。

评测指标
对class字段预测：
Kappa系数

$$\text { Kappa }=\frac{P_{o}-P_{e}}{1-P_{e}}$$

$$P_{o}=\frac{N^{T P}}{N}$$

$$P_{e}=\frac{\sum_{1}^{3} \hat{N}_{i} * M_{i}^{T P}}{N^{2}}$$

$M_{i}^{T P}$: 第i类真实的样本个数； $\hat{N}_{i}$ : 预测出第i类的样本个数； $N$ : 样本总数； $N^{T P}$: 预测正确的样本数；

$$\begin{array}{c} S_{2}=K a p p a \\ S=0.5*S_{1}+0.5*S_{2} \end{array}$$

其中，i = 0, 1, 2（负面、正面、中立）分别代表三类情感的评价。